import{c as j,r as s,d as y,s as k,j as a,a as D,T as C,I as v}from"./index-C2otNQVc.js";import{A as w}from"./AdminLayout-PuloqPDw.js";import{S as l}from"./index-DNHun0CM.js";import{S as I}from"./index-Cm6Nnb2z.js";import{F as _}from"./Table-Cc3msC94.js";import{T}from"./index-CmKlZd6V.js";import"./CalendarOutlined-CsUoprb1.js";import"./index--2EujT49.js";import"./Pagination-Dq4GCmhV.js";const{Title:b,Text:P}=C,{Search:z}=v,R=()=>{const p=j(),[d,m]=s.useState(null),[u,h]=s.useState(""),[c,n]=s.useState(1),[i]=s.useState(10),{data:t,isLoading:f,error:o}=y({status:d,page:c,limit:i,search:u});s.useEffect(()=>{o&&(console.error("Error fetching data:",o),k.error("Gagal memuat data pendaftar"))},[o]);const g=e=>{m(e),n(1)},x=e=>{h(e),n(1)},S=[{title:"Kode Pendaftaran",dataIndex:"kode_pendaftaran",key:"kode_pendaftaran"},{title:"Nama",dataIndex:"nama",key:"nama",render:e=>e||a.jsx(P,{type:"danger",children:"Belum mengisi formulir"})},{title:"NISN",dataIndex:"nisn",key:"nisn"},{title:"Whatsapp",dataIndex:"tlp_user",key:"tlp_user",render:e=>a.jsx("a",{href:`https://wa.me/${e}`,target:"_blank",rel:"noopener noreferrer",children:e})},{title:"Status",dataIndex:"status_pendaftaran",key:"status_pendaftaran",render:e=>{let r="default";return e==="Diterima"?r="success":e==="Ditolak"?r="error":e==="Diproses"&&(r="processing"),a.jsx(T,{color:r,children:e.toUpperCase()})}},{title:"Aksi",key:"action",render:(e,r)=>a.jsx(l,{size:"middle",children:a.jsx("a",{onClick:()=>p(`/admin-pendaftar/${r.userid}`),children:"Lihat Detail"})})}];return a.jsx(w,{title:"Manajemen Pendaftaran",children:a.jsx(l,{direction:"vertical",size:"large",style:{width:"100%"},children:a.jsxs(D,{children:[a.jsx(b,{level:4,children:"Manajemen Pendaftaran"}),a.jsxs(l,{size:"middle",style:{marginBottom:16},children:[a.jsx(I,{value:d,onChange:g,style:{width:120},placeholder:"Status",allowClear:!0,options:[{value:"Diproses",label:"Diproses"},{value:"Diterima",label:"Diterima"},{value:"Ditolak",label:"Ditolak"}]}),a.jsx(z,{placeholder:"Cari pendaftar...",allowClear:!0,onSearch:x,style:{width:200}})]}),a.jsx(_,{columns:S,dataSource:t==null?void 0:t.users,loading:f,rowKey:"id",pagination:{current:c,pageSize:i,total:(t==null?void 0:t.totalPages)*i,onChange:e=>n(e)}})]})})})};export{R as default};
